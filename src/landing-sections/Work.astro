---
// eslint-disable-next-line import/no-unresolved
import { getCollection } from "astro:content";

import { Box } from "@/components/ui/Box/Box";
import { InternalLink } from "@/components/ui/InternalLink/InternalLink";
import { Type } from "@/components/ui/Type/Type";
import { Diamond } from "@/components/decoration/Diamond/Diamond";
import { LandingPageSection } from "@/components/container/LandingPageSection/LandingPageSection";

const listedProjects = await getCollection("work");
const listedProjectsByDate = listedProjects.sort((a, b) => {
  return (
    new Date(b.data.endDate).getTime() - new Date(a.data.endDate).getTime()
  );
});
---

<LandingPageSection id="work" heading="Work">
  <Box
    as="ul"
    className="mx-auto grid max-w-5xl grid-cols-1 gap-x-1 gap-y-0.5 sm:grid-cols-2 md:grid-cols-3 md:gap-x-2 md:gap-y-1 lg:grid-cols-3"
  >
    {
      listedProjectsByDate?.map((project) => (
        <Type as="li">
          <InternalLink
            href={project.data.url}
            className="flex h-full flex-row gap-0.5"
          >
            {project.data.title}
          </InternalLink>
        </Type>
      ))
    }
  </Box>
</LandingPageSection>
