---
import { Box } from "@/components/ui/Box/Box";
import { Type } from "@/components/ui/Type/Type";
import { GigDate } from "@/components/cv/GigDate/GigDate";
import type { GigSchemaProps } from "@/schemas/gig.schema";
import type { z, Render } from "astro:content";
import { ExternalLink } from "@/components/ui/ExternalLink/ExternalLink";

interface Props {
  gig: { data: z.infer<typeof GigSchemaProps>; render(): Render[".mdx"] };
}

const { employer, employerUrl, jobTitle, startDate, endDate } =
  Astro.props.gig.data;

const { Content } = await Astro.props.gig.render();
---

<Box as="article">
  <Type as="h4" className="font-bold">
    <ExternalLink href={employerUrl}>{employer}</ExternalLink> / {jobTitle}
  </Type>

  <GigDate startDate={startDate} endDate={endDate} />

  <Content />
</Box>
