---
import { Box } from "@/components/ui/Box/Box";
import { Type } from "@/components/ui/Type/Type";
import { GigDate } from "@/components/cv/GigDate/GigDate";
import type { Render, z } from "astro:content";
import type { GigSchemaProps } from "@/schemas/gig.schema";

interface Props {
  entry: {
    slug: string;
    data: z.infer<typeof GigSchemaProps>;
    render(): Render[".mdx"];
  };
}
// Pick off main content from the entry
const { Content } = await Astro.props.entry.render();

// Pick off the frontmatter
const { employer, jobTitle, startDate, endDate } = Astro.props.entry.data;
---

<Box as="article">
  <Type as="h4" className="font-bold">
    {employer} / {jobTitle}
  </Type>

  <GigDate startDate={startDate} endDate={endDate} />

  <Content />
</Box>
